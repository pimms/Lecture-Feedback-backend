<html>
	<head>
	</head>

	<body style="margin-left:10%;">
		<h1>Lecture Feedback web-API description</h1>
		<p>
			This page contains an updated overview of the Lecture Feedback <br/>
			web API - implemented and in-development features.<br/>
			All paths should be relative to the HTTP-root of the site.<br/>
			Major functions should be implemented in their own PHP scripts.<br/>
		</p>
		<br/><br/>

		<!-- Template parameter
			<li> <i></i></li>
			<i><u>Type:</u></i>
			<br><br>
			<i><u>Example:</u></i>
			<br><br>
		-->


		<!-- GET FEED -->
		<h2>Retrieve feed of reviews</h2>
		<p>
			Service base URL: &nbsp;&nbsp;&nbsp;<b>getFeed.php</b>

			<h3>Parameters</h3>
			<li>filter <i>REQUIRED</i></li>
			<i><u>Type:</u></i> Comma separated list of the items to include in the response.<br/>
			The items must be TimeEdit <u>COURSE</u> IDs.<br/> <br/>
			<i><u>Example:</u></i>
			<i>"161884.183"</i> will return a response with the<br/>
			the <b>course</b> IMT3672.<br/><br/>

			<li>first <i>optional</i></li>
			<i><u>Type:</u></i> Integer<br/>
			The index of the first item to be returned. Defaults to 0.<br/><br/>

			<li>num <i>optional</i></li>
			<i><u>Type:</u></i> Integer<br/>
			The number of items to be returned in the result-set. Defaults to 20.

			<br/><br/>
			<h3>Return</h3>
			{  <br/>
			&emsp;"status": "ok"/"bad",<br/>
			&emsp;"item_count":N,<br/>
			&emsp;"items": [<br/>
			&emsp;&emsp;{<br/>
			&emsp;&emsp;&emsp;"id"       	: 150913,<br/>
			&emsp;&emsp;&emsp;"course"   	: "Algoritmiske Metoder",<br/>
			&emsp;&emsp;&emsp;"lecturer" 	: "Frode Haug",<br/>
			&emsp;&emsp;&emsp;"time"     	: "10:00 - 12:00",<br/>
			&emsp;&emsp;&emsp;"date" 	 	: "20131105",<br/>
			&emsp;&emsp;&emsp;"room"     	: "K105",<br/>
			&emsp;&emsp;&emsp;"ratings"  	: [0, 1, 0, 1, 1],<br/>
			&emsp;&emsp;&emsp;"comment"  	: "Frode sl&aring;r p&aring; stortrommen atter en gang!",<br/>
			&emsp;&emsp;&emsp;"review_time" : "2013-12-31 23:59"<br/>
			&emsp;&emsp;},<br/>
			&emsp;&emsp;...<br/>
			&emsp;]<br/>
			}<br/>
		</p>

		
		<!-- POST REVIEW -->
		<h2>Post a review</h2>
		<p>
			Service base URL:&nbsp;&nbsp;&nbsp;<b>postReview.php</b>

			<h3>Parameters</h3>
			<li>client_hash <i>REQUIRED</i></li>
			<i><u>Type:</u></i> SHA-1 hash of the ANDROID_ID and our
			super secret salt, "SpiceGurls". <br/><br/>
			<i><u>Example:</u></i>
			student_hash = SHA1(ANDROID_ID + "SpiceGurls");<br><br>

			<li>course_name <i>REQUIRED</i></li>
			<i><u>Type:</u></i> String holding the name of the course.<br><br>
			<i><u>Example:</u></i>
			course_name = "Algoritmiske Metoder"
			<br><br>

			<li>course_code <i>REQUIRED</i></li>
			<i><u>Type:</u></i> String holding HiG's code for this course.<br><br>
			<i><u>Example:</u></i>
			course_code = "IMT3672"
			<br><br>

			<li>lecturer <i>REQUIRED</i></li>
			<i><u>Type:</u></i>
			String containing the name of the lecturer exactly
			as it appears on TimeEdit.
			<br><br>
			<i><u>Example:</u></i>
			lecturer = "Haug";
			<br><br>

			<li>room <i>REQUIRED</i></li>
			<i><u>Type:</u></i> 
			String containing the name of the room.<br><br>
			<i><u>Example:</u></i> 
			room = "K105";<br><br>

			<li>start_time <i>REQUIRED</i></li>
			<i><u>Type:</u></i> UNIX timestamp of the starting time
			of the lecture.<br><br>
			<i><u>Example:</u></i>
			String time = new Date("2013-12-31 10:00").unixTimestamp();
			<br><br>

			<li>end_time <i>REQUIRED</i></li>
			<i><u>Type:</u></i> UNIX timestamp of the ending time
			of the lecture.<br><br>
			<i><u>Example:</u></i>
			String time = new Date("2013-12-31 12:00").unixTimestamp();
			<br><br>

			<li>attribute_version_set <i>REQUIRED</i></li>
			<i><u>Type:</u></i> Int holding a value defining
			which version of the attribute set is used.
			<br><br>
			<i><u>Example:</u></i> Must be 1.
			<br><br>

			<li>attributes <i>REQUIRED</i></li>
			<i><u>Type:</u></i> 
			Dot-separated boolean values.
			<br><br>
			<i><u>Example:</u></i>
			attributes = "0.1.1.1.0";

			<li>comment <i>OPTIONAL</i><li>
			<i><u>Type:</u></i> String up to 333 characters in length.
			<br><br>
			<i><u>Example:</u></i>
			comment = "Great lecture prof";
			<br><br>

			<h3>Return</h3>
			{<br>
			&emsp;"status": "ok"/bad<br>
			}<br>
		</p>
		
	</body>
</html>